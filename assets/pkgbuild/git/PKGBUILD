## Maintainer: pyamsoft <pyam.soft@gmail.com>

pkgname=steam-wrapper-git
_gitname=steam-wrapper
pkgdesc="Steam wrapper for common operations (git version)"
pkgver=0.1.6
pkgrel=1
arch=('i686' 'x86_64')
optdepends=('steam-native: Native runtime library support')
depends=('steam' 'bash' 'coreutils' 'git')
provides=('steam-wrapper')
conflicts=('steam-wrapper')
license=('custom')
url="https://github.com/pyamsoft/steam-wrapper.git"
source=("${_gitname}::git+${url}#branch=dev")
sha256sums=('SKIP')

package() {
	cd "$srcdir/$_gitname"

	# Install the script
	mkdir -p "$pkgdir"/usr/bin/
	cp "${pkgname}" "$pkgdir"/usr/bin/
	chmod 755 "$pkgdir"/usr/bin/${pkgname}

	# Install the desktop file
	mkdir -p "$pkgdir"/usr/share/applications/
	cp ${pkgname}.desktop "$pkgdir"/usr/share/applications/
	chmod 644 "$pkgdir"/usr/share/applications/${pkgname}.desktop

	# Install the default configuration
	mkdir -p "$pkgdir"/etc/steam-wrapper/
	cp ${pkgname}.conf "$pkgdir"/etc/${pkgname}/${pkgname}.conf
	chmod 644 "$pkgdir"/etc/${pkgname}/${pkgname}.conf
}
